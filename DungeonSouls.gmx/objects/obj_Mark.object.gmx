<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_Mark</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>spr_Mark_Mask</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>hpmax = 2;
event_inherited();
randomize();
coin = choose(0,floor(random_range(1,3)))+global.dungeon;
expe = 0;
potiondrop = 10; //PERCENTAGE
debris = 3;
size = 5
shad = spr_Shadow16;
spr_idle = spr_Mark
spr_hurt = spr_Mark;
spr_dead = spr_Mark;
hit_sound = snd_wood_hit;
hit_pitch = 0.5;
hittable = false;
n=0;
spawn = 0;
pos = 0;
//alarm[0] = 30*3;
depth = 99
image_alpha = 0.5;
image_speed = 0;
image_index = 0;
//image_angle = random(360);
act = false;
act_bar = 0;
len = 40;
trap =1;
set_light_properties(spr_Light,0,0,.5,.5,0,merge_colour(c_aqua,c_white,0.5),image_alpha/2);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !instance_exists(obj_Redeemer) instance_create(0,0,obj_Redeemer);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if spawn &gt; 0
{
    alarm[1] = room_speed*.12;
    spawn -= 1;
    global.shake += 3;
    //ENEMIES
    switch (global.dungeon_name) { 
    
           case ENVIRO1:
           switch (global.TYPE) {
                  
                  case 1:
                  obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
                  obj.object = choose(obj_Skeleton,obj_Skeleton_Warrior);// choose(obj_drone1,obj_drone1); //
                  if global.difficulty == EASY
                     pos += 90;
                  else
                     pos += 45;            
                  break;
                  
                  case 2:
                  obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
                  if (random(1)&lt;0.7) {
                     obj.object = obj_Bat;//obj_drone1;
                  } else {
                    obj.object= obj_Ghost;//
                  }
                  if global.difficulty == EASY
                     pos += 90;
                  else
                      pos += 45;
                  break;
           }
           break;
        
           case ENVIRO2:
           switch (global.TYPE) {
                  
                  case 1:
                  obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
                  if (random(1)&lt;0.9) {
                     obj.object = obj_SlimeB;
                  } else {
                    obj.object = obj_Explosive_Slime;
                  } 
                  if global.difficulty == EASY
                     pos += 90;
                  else
                      pos += 45;            
                  break;
        
                  case 2:
                  obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
                  var chance = random(1);
                  if (chance&lt;0.7) {
                     obj.object = obj_Beetle;
                  } else if (chance&lt;0.9) {
                    obj.object = obj_Rat;
                  } else {
                    obj.object = obj_SlimeBoy;
                  }
                  if global.difficulty == EASY
                     pos += 90;
                  else
                      pos += 45; 
                        
                  break;
        }
        break;
            
        case ENVIRO3:
    
        switch (global.TYPE) { 
        
               case 1:
               obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
               var chance = random(1);
               if (chance&lt;0.6) {
                  obj.object = obj_Ice_Eyeball;
               } else {
                 obj.object = obj_Snowman;
               }
               if global.difficulty == EASY
                  pos += 90;
               else
                   pos += 45;            
               break;
        
               case 2:
               obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
               var chance = random(1);
               if (chance&lt;0.7) {
                  obj.object = obj_Ice_Golem_Small;
               } else if (chance&lt;0.9) {
                      obj.object = obj_Crystal_Monster;
               } else {
                 obj.object = obj_Yeti;
               }
               if global.difficulty == EASY
                  pos += 90;
               else
                pos += 45; 
               break;
        }                   
        break;
    
        case ENVIRO4:
    
        switch (global.TYPE) { 
               
               case 1:
               obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
               var chance = random(1);
               if (chance&lt;0.7) {
                  obj.object = obj_Black_Ball_Eye;
               } else {
                 obj.object = obj_Black_Devil;
               }
               if global.difficulty == EASY
                  pos += 90;
               else
                   pos += 45;  
               break;          
        
               case 2:
               obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
               var chance = random(1);
               if (chance&lt;0.7) {
                  obj.object = obj_Fly;
               } else {
                 obj.object = obj_Shadow_Eye;
               }
               if global.difficulty == EASY
                  pos += 90;
               else
                pos += 45; 
               break;  
               
        }                  
        break;
    
        case ENVIRO5:
    
        switch (global.TYPE) { 
        
               case 1:
               obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
               var chance = random(1);
               if (chance&lt;0.7) {
                  obj.object = obj_Evil_Eye;
               } else {
                 obj.object = obj_Eye_Enemy;
               }
               if global.difficulty == EASY
                  pos += 90;
               else
                pos += 45;            
               break;
        
               case 2:
               obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
               var chance = random(1);
               if (chance&lt;0.7) {
                  obj.object = obj_Fly;
               } else {
                 obj.object = obj_Red_Devil;
               }
               if global.difficulty == EASY
                  pos += 90;
               else
                pos += 45; 
               break;
        }
        break;
    
        case SECRET1:
    
        switch (global.TYPE) {
        
               case 1:
               obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
               obj.object = obj_GWizard;
               if global.difficulty == EASY
                  pos += 90;
               else
                pos += 45;
               break;            
        
               case 2:
               obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
               obj.object = obj_PWizard;
               if global.difficulty == EASY
                pos += 90;
               else
                pos += 45; 
               break;
        
        }                    
        break;
    
        case SECRET2:
    
        switch (global.TYPE) { 
        
               case 1:
               obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
               obj.object = obj_Jelly;
               if global.difficulty == EASY
                  pos += 90;
               else
               pos += 45; 
               break;           
        
               case 2:
               obj = instance_create(x+lengthdir_x(len,pos),y+lengthdir_y(len,pos),obj_Spawn);
               obj.object = obj_Sprite;
               if global.difficulty == EASY
                  pos += 90;
               else
                   pos += 45; 
               break;    
        }
        break;                  
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (instance_number(obj_Mark) &gt; 2) {
    alarm[0] = room_speed;
    Enemy_Spawn();
    effect_create_above(ef_ring,mouse_x,mouse_y,0,c_aqua);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(obj_Hero)
{
    if !instance_place(x,y,obj_Hero)
        if act_bar &gt; 0 and global.dungeon_name == ENVIRO2
            act_bar -= 1 
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_Door">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Destroy
instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_Hero">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if act = false
{
    //if global.dungeon_name == ENVIRO1 or global.dungeon_name == ENVIRO3 or global.dungeon_name == ENVIRO4
    //{
        act = true;
        global.mark += 1;
        image_alpha = 1;
        image_index = 1;
        Play_Sound(snd_mark,random_range(0.9,1),0.5,0,5000,true,false);
        Popup("Activated!",c_yellow);
        with other
        {
            obj=instance_create(other.x,other.y,obj_Fade_Des_Part);
            obj.sprite_index = other.sprite_index;
            obj.image_speed = 0;
            obj.image_index = other.image_index;
            obj.speed = 4;
            obj.direction = 90;
            obj.friction = 0.2;
            obj.depth = depth;
        }
        if global.difficulty == EASY spawn = 4; else spawn = 8;
        
        pos = 0;
        alarm[1] = 2;       
        var redeemer_multiplier =1;
        if (Item_In_List(spr_Redeemers_Essence))
        {
            redeemer_multiplier*=2;
        }
        if (Item_In_List(spr_Shoes_of_Haste))
        {
            redeemer_multiplier*=0;
        }
        if global.mark == instance_number(obj_Mark)
        {
            alarm[2] = (room_speed*20*redeemer_multiplier)+1;
            add_notification(spr_Redeemer,0,"Escape from the Redeemer!",3);
        }
    /*}else
    if global.dungeon_name == ENVIRO2
    {
        if trap == 1
        {
            trap = 0
            if global.difficulty == HARD spawn = 4; else spawn = 8;
            pos = 0;
            alarm[1] = 2;         
        }
        if act_bar &lt; 200
        {
            act_bar += 1;
        }else
        {
            act = true;
            global.mark += 1;
            image_alpha = 0.5;
            image_index = 1;
            Play_Sound(snd_mark,random_range(0.9,1),0.5,0,5000,true,false)
            Popup("Activated!",c_yellow)
            with other
            {
                obj=instance_create(other.x,other.y,obj_Fade_Des_Part);
                obj.sprite_index = other.sprite_index;
                obj.image_speed = 0;
                obj.image_index = other.image_index;
                obj.speed = 4;
                obj.direction = 90;
                obj.friction = 0.2;
                obj.depth = depth;
            }
         
               if global.difficulty == HARD spawn = 4; else spawn = 8;
            pos = 0;
            alarm[1] = 2;
        }
    }*/
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();
if global.dungeon_name == ENVIRO2
{
    if act_bar &gt; 0 and act_bar != 200
        with obj_Hero 
            draw_healthbar(x-16,y+16,x+16,y+18,other.act_bar*0.5,c_black,c_lime,c_lime,0,true,true);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>8,8</point>
    <point>8,8</point>
  </PhysicsShapePoints>
</object>
