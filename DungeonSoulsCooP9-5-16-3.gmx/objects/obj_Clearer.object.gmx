<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_Clearer</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>randomize()
var left = choose(0,32);
var top = choose(0,32);
tile_add(global.tile_floor,left,top,32,32,x,y,100);
if random(100)&lt;10
    tile_add(global.overlay,left,top,32,32,x,y,100);

var custom_dungeon = (global.dungeon_name==SECRET1_STORY)
    
if random(100)&lt;10 and place_free(x,y) and global.dungeon+1 != 3 and global.tutorial == false &amp;&amp; !custom_dungeon
{
    var gen=random_range(1,100);
    if gen&lt;2 and !instance_exists(obj_Cursed_Chest)
        instance_create(x+8+choose(random(4),-random(4)),y+8+choose(random(4),-random(4)),obj_Cursed_Chest);   
    else if gen&lt;7 and !instance_exists(obj_Gold_Chest)
        instance_create(x+8+choose(random(4),-random(4)),y+8+choose(random(4),-random(4)),obj_Gold_Chest);   
    else
    if gen&lt;17 and !instance_exists(obj_Metal_Chest)
        instance_create(x+8+choose(random(4),-random(4)),y+8+choose(random(4),-random(4)),obj_Metal_Chest);
    else
    if gen&lt;32 and !instance_exists(obj_Wood_Chest)
        instance_create(x+8+choose(random(4),-random(4)),y+8+choose(random(4),-random(4)),obj_Wood_Chest);
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///TRAPS
randomize();
var left = choose(0,32);
randomize();
var top = choose(0,32);
if tile_layer_find(100,x,y) and global.tutorial == false
{
    tile_layer_delete_at(100,x,y);
    if instance_place(x-32,y,obj_Wall) and instance_place(x+32,y,obj_Wall)
    and !instance_place(x,y-32,obj_Wall) and !instance_place(x,y+32,obj_Wall)
        tile_add(global.dungeon_stair,left,top,32,32,x,y,100);
    else
        tile_add(global.tile_floorB,left,top,32,32,x,y,100);
    
    if (!custom_dungeon)
    {
        //TRAP
        //- BOULDER
        if (instance_place(x-32,y,obj_Wall) and instance_place(x,y-32,obj_Wall)) or (instance_place(x+32,y,obj_Wall) and instance_place(x,y-32,obj_Wall)) and global.dungeon != 0
        {
            if choose(0,1)
            {
                obj = instance_create(x+16,y+16,obj_Boulder_Switch);
                obj.dir = 270;
            }
        }
        if (instance_place(x-32,y,obj_Wall) and instance_place(x,y+32,obj_Wall)) or (instance_place(x+32,y,obj_Wall) and instance_place(x,y+32,obj_Wall)) and global.dungeon != 0
        {
            if choose(0,1)
            {
                obj = instance_create(x+16,y+16,obj_Boulder_Switch);
                obj.dir = 90;
            }
        }
        //FLOOR ARROW TRAP
        if ((random(3))&lt;1) and (!instance_place(x,y+32,obj_Wall) and !instance_place(x,y-32,obj_Wall) and !instance_place(x-32,y,obj_Wall) and !instance_place(x+32,y,obj_Wall)) and global.dungeon != 0
        {
            if (instance_place(x,y-32,obj_Wall) and instance_place(x,y+32,obj_Wall))
            {
                instance_create(x+16,y+16,obj_Floor_Arrow_Trap);  
            }
        }
        //- SAW BLADE
        /*if ((random(5))&lt;1) and place_free(x,y) and global.dungeon != 0
        {
            if (instance_place(x-32,y,obj_Wall) and instance_place(x+32,y,obj_Wall))
            {
                instance_create(x-24,y+16,obj_Saw_Blade);
            }
        }*/
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
randomize();
//if distance_to_object(obj_Door)&gt;96
//    if random(100)&lt;5 then Spawn_Enemy();

var custom_dungeon = (global.dungeon_name==SECRET1_STORY);

if instance_number(obj_Prop)&lt;20 &amp;&amp; !custom_dungeon
    Props()
else
if instance_number(obj_Trap)&lt;5 &amp;&amp; !custom_dungeon
    Traps()
var left = choose(0,32);
var top = choose(0,32);
if tile_layer_find(100,x,y) and global.tutorial == false
{
    tile_layer_delete_at(100,x,y);
    if instance_place(x-32,y,obj_Wall) and instance_place(x+32,y,obj_Wall)
    and !instance_place(x,y-32,obj_Wall) and !instance_place(x,y+32,obj_Wall)
        tile_add(global.dungeon_stair,left,top,32,32,x,y,100);
    else
        tile_add(global.tile_floor,left,top,32,32,x,y,100);
    
    //TRAP
    //- BOULDER
    if (instance_place(x-32,y,obj_Wall) and instance_place(x,y-32,obj_Wall)) or (instance_place(x+32,y,obj_Wall) and instance_place(x,y-32,obj_Wall)) and global.dungeon != 0 &amp;&amp; !custom_dungeon
    {
        if choose(0,1)
        {
            obj = instance_create(x+16,y+16,obj_Boulder_Switch);
            obj.dir = 270;
        }
    }
    if (instance_place(x-32,y,obj_Wall) and instance_place(x,y+32,obj_Wall)) or (instance_place(x+32,y,obj_Wall) and instance_place(x,y+32,obj_Wall)) and global.dungeon != 0 &amp;&amp; !custom_dungeon
    {
        if choose(0,1)
        {
            obj = instance_create(x+16,y+16,obj_Boulder_Switch);
            obj.dir = 90;
        }
    }
    //FLOOR ARROW TRAP
    if ((random(3))&lt;1) and place_free(x,y) and global.dungeon != 0 &amp;&amp; !custom_dungeon
    {
        if (instance_place(x,y-32,obj_Wall) and instance_place(x,y+32,obj_Wall))
        {
            instance_create(x+16,y+16,obj_Floor_Arrow_Trap);  
        }
    }
    //- SAW BLADE
    /*if ((random(5))&lt;1) and place_free(x,y) and global.dungeon != 0
    {
        if (instance_place(x-32,y,obj_Wall) and instance_place(x+32,y,obj_Wall))
        {
            instance_create(x-24,y+16,obj_Saw_Blade);
        }
    }*/
        
}

//GATE
/*
XOX
XQX
XOX
*/
//if instance_place(x,y-32,obj_Wall) and instance_place(x,y+32,obj_Wall) and (!instance_place(x-32,y-32,obj_Wall) and !instance_place(x-32,y+32,obj_Wall))
//    instance_create(x,y,obj_Gate)

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_Clearer">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if other.id &gt; id
    instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if instance_exists(obj_Hero)
{
    if distance_to_object(obj_Hero) &gt; 64
    {
            //TRAPS
            if global.dungeon_name == ENVIRO1
            {
                if distance_to_object(obj_Door) &gt; 32 and distance_to_object(obj_Merchant) &gt; 32
                {
                    if (floor(random(50))&lt;1) and place_free(x,y) and place_free(x,y+64) instance_create(x+16,y+16,obj_Arrow_Trap);
                    else if random(25) &lt; 1 and !collision_circle(x+16,y+16,96,obj_Poison_Tower,0,1)instance_create(x+16,y+16,obj_Poison_Tower);                                             
                }
            }else
            if global.dungeon_name == ENVIRO2
            {
                if distance_to_object(obj_Door) &gt; 32 and distance_to_object(obj_Merchant) &gt; 32
                {        
                    if (floor(random(50))&lt;1) and place_free(x,y) and place_free(x,y+64) instance_create(x+16,y+16,obj_Thorn);        
                    else if random(25) &lt; 1 and !collision_circle(x+16,y+16,96,obj_Poison_Gun,0,1)instance_create(x+16,y+16,obj_Poison_Gun);
                }                
            }else
            {
                if random(25) &lt; 1 and !collision_circle(x+16,y+16,96,obj_Poison_Tower,0,1)
                    instance_create(x+16,y+16,obj_Poison_Tower);
            }                    
            //ENEMIES
            /*
            if instance_number(obj_Enemy) &lt; 20 and global.boss_rm != 3
            {
                if global.dungeon_name == ENVIRO1
                {
                    if global.TYPE == 1
                    {
                        if (floor(random(25))&lt;1) instance_create(x+16,y+16,obj_Skeleton);
                        else if (floor(random(80))&lt;1) instance_create(x+16,y+16,obj_Shadow_Eye);
                        else if (floor(random(15))&lt;1) instance_create(x+16,y+16,obj_Skeleton_Mage);
                        else if (floor(random(5))&lt;1) instance_create(x+16,y+16,obj_Red_Devil);                      
                        else if (floor(random(30))&lt;1) instance_create(x+16,y+16,obj_Taurus);
                    }else
                    if global.TYPE == 2
                    {                            
                        if (floor(random(25))&lt;1) instance_create(x+16,y+16,obj_Skeleton_Warrior);
                        else if (floor(random(80))&lt;1) instance_create(x+16,y+16,obj_Shadow_Eye);                        
                        else if (floor(random(15))&lt;1) instance_create(x+16,y+16,obj_Skeleton_Archer);
                        else if (floor(random(5))&lt;1) instance_create(x+16,y+16,obj_Bat);                        
                        else if (floor(random(30))&lt;1) instance_create(x+16,y+16,obj_Taurus);
                    }
                }else
                if global.dungeon_name == ENVIRO2
                {
                    if global.TYPE == 1
                    {
                        if (floor(random(3))&lt;1) instance_create(x+16,y+16,obj_Slime);
                        else if (floor(random(20))&lt;1) instance_create(x+16,y+16,obj_Rat);
                        else if (floor(random(50))&lt;1) instance_create(x+16,y+16,obj_Mushroom);
                        else if (floor(random(60))&lt;1) instance_create(x+16,y+16,obj_SlimeBoy);
                    }else
                    if global.TYPE == 2
                    {
                        if (floor(random(10))&lt;1) instance_create(x+16,y+16,obj_Beetle);
                        else if (floor(random(5))&lt;1) instance_create(x+16,y+16,obj_Rat);                        
                        else if (floor(random(20))&lt;1) instance_create(x+16,y+16,obj_Mushroom);
                    }            
                }else
                if global.dungeon_name == ENVIRO3
                {
                    if (floor(random(10))&lt;1) instance_create(x+16,y+16,obj_Ice_Eyeball);
                    else if (floor(random(20))&lt;1) instance_create(x+16,y+16,obj_Snowman);
                    else if (floor(random(30))&lt;1) instance_create(x+16,y+16,obj_Yeti);                    
                }else
                if global.dungeon_name == ENVIRO4
                {
                    if (floor(random(5))&lt;1) instance_create(x+16,y+16,obj_Fly)
                    else if (floor(random(15))&lt;1) instance_create(x+16,y+16,obj_Shadow_Eye);
                    else if (floor(random(10))&lt;1) instance_create(x+16,y+16,obj_Black_Devil);
                    else if (floor(random(20))&lt;1) instance_create(x+16,y+16,obj_Black_Ball_Eye);                    
                    else if (floor(random(30))&lt;1) instance_create(x+16,y+16,obj_Skeleton_Mage);
                }                   
            }*/
   }
}
//instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>16,16</point>
  </PhysicsShapePoints>
</object>
